(function(){"use strict";var e={5668:function(e,t,n){var o=n(9963),i=n(6252);function a(e,t,n,o,a,l){var c=(0,i.up)("BabylonExamples");return(0,i.wg)(),(0,i.j4)(c)}var l=n.p+"img/tspudlogo.78ba7edb.png",c=(0,i.uE)('<div id="gamestartBG" data-v-e5201a00><p id="starttext" data-v-e5201a00>Are you sure?</p><input type="button" value="START" id="gamestart" data-v-e5201a00></div><div id="chooseNoBG" data-v-e5201a00><p id="chooseNotext" data-v-e5201a00>I see.<br data-v-e5201a00>Please try again after playing<br data-v-e5201a00>&#39;The Stanley Parable Ultra Deluxe&#39;.</p><input type="button" value="CONTINUE" id="continue" data-v-e5201a00></div><div id="chooseBG" data-v-e5201a00><h2 id="choosetitle" data-v-e5201a00>Spoiler Warning</h2><p id="choosetext" data-v-e5201a00>This game contains serious spoiler contents from &#39;The Stanley Parable Ultra Deluxe&#39;.<br data-v-e5201a00>Continue?</p><div id="choosebox" data-v-e5201a00><input type="button" value="YES" id="yes" data-v-e5201a00><input type="button" value="NO" id="no" data-v-e5201a00></div></div><div id="tspudlogo" data-v-e5201a00><p data-v-e5201a00>Based by</p><img src="'+l+'" alt="The Stanley Parable Ultra Deluxe Logo" loading="lazy" data-v-e5201a00></div><div id="loader" data-v-e5201a00><p id="loadingtxt" data-v-e5201a00>LOADING</p><div id="loadingContainer" data-v-e5201a00><div id="loadingBar" data-v-e5201a00></div></div><p id="percentLoaded" data-v-e5201a00>100%</p></div><canvas id="canvas" data-v-e5201a00></canvas>',6),r=[c];function u(e,t,n,o,a,l){return(0,i.wg)(),(0,i.iD)("main",null,r)}var s=function(){function e(){var e=this,t=document.getElementById("yes");t.addEventListener("click",(function(t){return e.getStart(1)}));var n=document.getElementById("no");n.addEventListener("click",(function(t){return e.getStart(2)}));var o=document.getElementById("continue");o.addEventListener("click",(function(t){return e.getStart(4)}));var i=document.getElementById("gamestart");i.addEventListener("click",(function(t){return e.getStart(3)}))}return Object.defineProperty(e.prototype,"getStart",{enumerable:!1,configurable:!0,writable:!0,value:function(e){console.log(e),1===e&&(document.getElementById("chooseBG").style.display="none",document.getElementById("chooseNoBG").style.display="none",document.getElementById("gamestartBG").style.display="flex"),2===e&&(document.getElementById("chooseBG").style.display="none",document.getElementById("gamestartBG").style.display="none",document.getElementById("chooseNoBG").style.display="flex"),4===e&&(window.location.href="https://store.steampowered.com/app/1703340/The_Stanley_Parable_Ultra_Deluxe/",document.getElementById("chooseBG").style.display="none",document.getElementById("gamestartBG").style.display="none",document.getElementById("chooseNoBG").style.display="flex"),3===e&&(console.log("buttonstart"),document.getElementById("chooseBG").style.display="none",document.getElementById("chooseNoBG").style.display="none",document.getElementById("gamestartBG").style.display="none")}}),e}(),d=n(655),p=n(7114),g=(n(8730),n(1125)),v=function(){function e(e,t,n,o){Object.defineProperty(this,"loadingBar",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"percentLoaded",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"loader",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"tspudlogo",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"loadingUIBackgroundColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"loadingUIText",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(e.prototype,"displayLoadingUI",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.loadingBar.style.width="0%",this.percentLoaded.innerText="0%"}}),Object.defineProperty(e.prototype,"hideLoadingUI",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;setTimeout((function(){e.tspudlogo.style.display="none"}),3500),"loader"===this.loader.id&&(this.loader.id="loaded"),"loaded"===this.loader.id&&(this.loader.id="loader"),setTimeout((function(){e.loader.style.display="none"}),1e3)}}),Object.defineProperty(e.prototype,"updateLoadStatus",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.loadingBar.style.width="".concat(e,"%"),this.percentLoaded.innerText="".concat(e,"%")}}),e}(),b=function(){function e(e,t,n,o,i,a,l){var c=this;Object.defineProperty(this,"canvas",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"setLoaded",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"loadingBar",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"percentLoaded",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"loader",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"gamestartBG",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"tspudlogo",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"scene",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"engine",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"camera",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"play",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closecount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"opencount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"buttonclick",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"knock",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"Icount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"dooropen",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"dooropenvoiceend",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"waitingsoundcollection",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"waitingPlay",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"doorvoicecollection",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"doorPlay",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"buttonvoicecollection",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"buttonPlay",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"cameraholder",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"models",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopbutton",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fence",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"glass",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"place",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"door",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"wayout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hemiLight",{enumerable:!0,configurable:!0,writable:!0,value:p.ezm}),Object.defineProperty(this,"pointLight",{enumerable:!0,configurable:!0,writable:!0,value:p.cek}),Object.defineProperty(this,"hallLight",{enumerable:!0,configurable:!0,writable:!0,value:p.cek}),Object.defineProperty(this,"spotLight",{enumerable:!0,configurable:!0,writable:!0,value:p.PMe}),Object.defineProperty(this,"loadingScreen",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ground",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"wall",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"groundvoice",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.engine=new p.D4V(this.canvas,!0),this.play=!1,this.loadingScreen=new v(this.loadingBar,this.percentLoaded,this.loader,this.tspudlogo),this.engine.loadingScreen=this.loadingScreen,this.engine.displayLoadingUI(),this.scene=this.CreateScene(),this.camera=new p.cEJ("camera",new p.Pa4(0,10,85),this.scene),this.camera.rotation=new p.Pa4(0,Math.PI,0),this.camera.attachControl(),this.camera.applyGravity=!0,this.camera.checkCollisions=!0,this.camera.ellipsoid=new p.Pa4(1,5,1),this.camera.minZ=.45,this.camera.speed=.6,this.camera.angularSensibility=8e3,this.camera.keysUp.push(87),this.camera.keysLeft.push(65),this.camera.keysDown.push(83),this.camera.keysRight.push(68),this.cameraholder=p.VO7.CreateBox("cameraholder",{width:3,height:20,depth:3}),this.cameraholder.parent=this.camera,this.cameraholder.visibility=0,this.cameraholder.actionManager=new p.kOu(this.scene),this.CreateModel(),this.CreateKeyAudio(),this.engine.runRenderLoop((function(){c.scene.render()}))}return Object.defineProperty(e.prototype,"CreateScene",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=new p.xsS(this.engine),n=new p.$uU("click","./audio/sfx/click.wav",this.scene,null,{volume:.6,autoplay:!1});t.onPointerDown=function(t){0===t.button&&"none"==e.gamestartBG.style.display&&(n.play(),e.engine.enterPointerlock()),1!==t.button&&2!==t.button||e.engine.exitPointerlock()};var o=60,i=-9.81;return t.gravity=new p.Pa4(0,i/o,0),t.collisionsEnabled=!0,t.actionManager=new p.kOu(this.scene),t.enablePhysics(new p.Pa4(0,-9.81,0),new p.szy(!0,10,g)),t}}),Object.defineProperty(e.prototype,"CreateModel",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,d.mG)(this,void 0,Promise,(function(){var e,t,n,o,i,a,l,c,r,u,s,g,v,b,y,h,m,f,w,P,k,O,j,B,U,I,E,C,$,x,L,T,M,S=this;return(0,d.Jh)(this,(function(d){switch(d.label){case 0:return[4,p.n0n.ImportMeshAsync("","./models/","background.glb",this.scene,(function(e){var t=0;t=Math.floor(e.loaded/3072*100)/100,S.loadingScreen.updateLoadStatus(t)}))];case 1:return e=d.sent().meshes,this.setLoaded(),this.engine.hideLoadingUI(),console.log("start"),this.models=e,console.log(e),this.ground=e[1],this.wall=e[3],this.stopbutton=e[14],this.door=e[18],this.place=e[19],this.wayout=e[21],this.stopbutton.actionManager=new p.kOu(this.scene),e.map((function(e){e.checkCollisions=!0})),this.door.position=new p.Pa4(5.8,9.5,42),this.door.rotation=new p.Pa4(0,Math.PI/2*3,0),this.door.setPivotMatrix(p.y3G.Translation(1,0,0)),this.door.checkCollisions=!0,this.door.actionManager=new p.kOu(this.scene),t=new p.ezm("hemiLight",new p.Pa4(0,10,0),this.scene),t.intensity=.2,n=new p.cek("pointLight",new p.Pa4(0,0,0),this.scene),n.diffuse=new p.Wot(1,1,0),n.intensity=10,n.parent=this.stopbutton,o=new p.cek("hallLight",new p.Pa4(0,18,55),this.scene),o.diffuse=new p.Wot(1,1,1),o.intensity=500,i=new p.PMe("spotLight",new p.Pa4(0,20,0),new p.Pa4(0,-1,0),Math.PI/2,10,this.scene),i.diffuse=new p.Wot(1,1,1),i.intensity=1e3,a=new p.$uU("Waitbuttonvoice0","audio/voice/waitingvoice0.mp3",this.scene,null,{volume:1,autoplay:!1}),l=new p.$uU("Waitbuttonvoice1","audio/voice/waitingvoice1.mp3",this.scene,null,{volume:1,autoplay:!1}),c=new p.$uU("Waitbuttonvoice2","audio/voice/waitingvoice2.mp3",this.scene,null,{volume:1,autoplay:!1}),r=new p.$uU("Waitbuttonvoice3","audio/voice/waitingvoice3.mp3",this.scene,null,{volume:1,autoplay:!1}),u=new p.$uU("Waitbuttonvoice4","audio/voice/waitingvoice4.mp3",this.scene,null,{volume:1,autoplay:!1}),s=new p.$uU("Waitbuttonvoice5","audio/voice/waitingvoice5.mp3",this.scene,null,{volume:1,autoplay:!1}),g=new p.$uU("Waitbuttonvoice6","audio/voice/waitingvoice6.mp3",this.scene,null,{volume:1,autoplay:!1}),v=new p.$uU("Waitbuttonvoice7","audio/voice/waitingvoice7.mp3",this.scene,null,{volume:1,autoplay:!1}),this.waitingsoundcollection=[a,l,c,r,u,s,g,v],b=new p.$uU("Nbuttonvoice","audio/voice/buttonclick_front.mp3",this.scene,null,{volume:1,autoplay:!1}),y=new p.$uU("Sbuttonvoice","audio/voice/buttonclick_back.mp3",this.scene,null,{volume:1,autoplay:!1}),h=new p.$uU("glassvoice0","audio/voice/glassclick0.mp3",this.scene,null,{volume:1,autoplay:!1}),m=new p.$uU("glassvoice1","audio/voice/glassclick1.mp3",this.scene,null,{volume:1,autoplay:!1}),f=new p.$uU("glassvoice2","audio/voice/glassclick2.mp3",this.scene,null,{volume:1,autoplay:!1}),w=new p.$uU("glassvoice3","audio/voice/glassclick3.mp3",this.scene,null,{volume:1,autoplay:!1}),P=new p.$uU("glassvoice4","audio/voice/glassclick4.mp3",this.scene,null,{volume:1,autoplay:!1}),k=new p.$uU("glassvoice5","audio/voice/glassclick5.mp3",this.scene,null,{volume:1,autoplay:!1}),O=new p.$uU("glassvoice6","audio/voice/glassclick6_1.mp3",this.scene,null,{volume:1,autoplay:!1}),j=new p.$uU("glassvoice7","audio/voice/glassclick7_2_1.mp3",this.scene,null,{volume:1,autoplay:!1}),B=new p.$uU("glassvoice8","audio/voice/glassclick8.mp3",this.scene,null,{volume:1,autoplay:!1}),U=new p.$uU("glassvoice9","audio/voice/glassclick9.mp3",this.scene,null,{volume:1,autoplay:!1}),I=new p.$uU("glassvoice10","audio/voice/glassclick10_1_1_1.mp3",this.scene,null,{volume:1,autoplay:!1}),E=new p.$uU("glassvoice11","audio/voice/glassclick10_1_2.mp3",this.scene,null,{volume:1,autoplay:!1}),this.buttonvoicecollection=[b,y,h,m,f,w,P,k,O,j,B,U,I,E],C=new p.$uU("closevoice","audio/voice/doorstop2.mp3",this.scene,null,{volume:1,autoplay:!1}),$=new p.$uU("notopningvoice0","audio/voice/doorknock0.mp3",this.scene,null,{volume:1,autoplay:!1}),x=new p.$uU("notopningvoice1","audio/voice/doorknock1.mp3",this.scene,null,{volume:1,autoplay:!1}),L=new p.$uU("openvoice","audio/voice/dooropen1.mp3",this.scene,null,{volume:1,autoplay:!1}),this.doorvoicecollection=[C,$,x,L],this.groundvoice=new p.$uU("groundvoice","audio/voice/groundenter0.mp3",this.scene,null,{volume:1,autoplay:!1}),this.CreateClickAction(),console.log("waitingPlay",this.waitingPlay),T=new p.fQC(p.kOu.OnPickTrigger,(function(){if(4===S.buttonclick){S.waitingPlay=!1,console.log("waitingplay",S.waitingPlay),clearTimeout(S.waitingsoundcollection);for(var e=0;e<=7;e++)S.waitingsoundcollection[e].pause();S.scene.pointerDownPredicate=function(e){return e===S.door};var a=new p.$uU("buttonpress","audio/sfx/buttonpress.wav",S.scene,null,{volume:.7,autoplay:!1});console.log("bye"),S.stopbutton.position=new p.Pa4(.001,6.35,-.1),a.play();var l=new p.$uU("lastbuttonvoice","audio/voice/badending_1.mp3",S.scene,(function(){t.intensity=0,n.intensity=0,o.intensity=0,i.intensity=0,S.camera.detachControl(),S.buttonclick++,l.play(),l.onended=function(){location.reload()}}),{volume:1,autoplay:!1})}})),this.glass.actionManager.registerAction(T),this.CreatePositionAction(),M=new p.fQC({trigger:p.kOu.OnIntersectionEnterTrigger,parameter:{mesh:this.wayout}},(function(){if(S.knock<3&&1!=S.dooropen){for(var e=0;e<=3;e++)S.doorvoicecollection[e].pause();S.scene.pointerDownPredicate=function(e){return e===S.stopbutton},t.intensity=0,n.intensity=0,o.intensity=0,i.intensity=0,S.camera.detachControl();var a=new p.$uU("quickwayoutvoice","audio/voice/quickending_1.mp3",S.scene,(function(){a.play(),a.onended=function(){location.reload()}}),{volume:1,autoplay:!1})}if(3==S.knock){for(var l=0;l<=3;l++)S.buttonvoicecollection[l].pause();S.waitingPlay=!1,console.log("waitingplay",S.waitingPlay),clearTimeout(S.waitingsoundcollection);for(var c=0;c<=7;c++)S.waitingsoundcollection[c].pause();S.scene.pointerDownPredicate=function(e){return e===S.stopbutton},S.groundvoice.pause(),t.intensity=0,n.intensity=0,o.intensity=0,i.intensity=0,S.camera.detachControl();var r=new p.$uU("wayoutvoice","audio/voice/happyendingvoice_1.mp3",S.scene,(function(){r.play(),r.onended=function(){location.reload()}}),{volume:1,autoplay:!1})}})),this.cameraholder.actionManager.registerAction(M),[2]}}))}))}}),Object.defineProperty(e.prototype,"CreateClickAction",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.glass=p.VO7.CreateBox("glass",{width:1.7,height:1.5,depth:.9}),this.glass.visibility=0,this.glass.isVisible=!1,this.glass.position=new p.Pa4(.001,6.35,.8);var t=new p.KuD("white",this.scene);t.diffuseColor=new p.Wot(1,1,1),this.glass.material=t,this.glass.actionManager=new p.kOu(this.scene),this.scene.pointerDownPredicate=function(t){return t===e.stopbutton||t===e.door},this.stopbutton.actionManager.registerAction(new p.fQC(p.kOu.OnPickTrigger,(function(){console.log("buttonclick",e.buttonclick),0===e.buttonclick&&e.knock>0&&(e.groundvoice.pause(),console.log("buttonclick0"),e.play||(console.log("buttonclick noyplaying"),e.buttonclick++,e.play=!0,e.buttonvoicecollection[0].play(),e.glass.isVisible=!0,e.glass.visibility=.2),e.buttonvoicecollection[0].onended=function(){e.play=!1,e.play||(e.play=!0,e.buttonvoicecollection[1].play()),e.buttonvoicecollection[1].onended=function(){e.play=!1}},e.scene.pointerDownPredicate=function(t){return t===e.stopbutton||t===e.glass||t===e.door})}))),this.glass.actionManager.registerAction(new p.fQC(p.kOu.OnPickTrigger,(function(){console.log("buttonclick",e.buttonclick),0!=e.glass.visibility&&1===e.buttonclick?(e.play||(e.play=!0,e.buttonvoicecollection[2].play()),e.buttonvoicecollection[2].onended=function(){e.play=!1,e.buttonclick++}):2===e.buttonclick?(e.play||(e.play=!0,e.buttonvoicecollection[3].play()),e.buttonvoicecollection[3].onended=function(){e.play=!1,e.buttonclick++}):3===e.buttonclick&&(e.play||(e.play=!0,e.buttonvoicecollection[12].play()),e.buttonvoicecollection[12].onended=function(){e.play=!1,e.glass.isVisible=!1,e.glass.visibility=0,e.play||(e.play=!0,n.play(),e.buttonvoicecollection[13].play()),e.buttonvoicecollection[13].onended=function(){e.play=!1,e.buttonclick++,e.waitingPlay=!0,console.log("waitingplay",e.waitingPlay),setTimeout((function(){1==e.waitingPlay?e.waitingsoundcollection[0].play():0==e.waitingPlay&&e.waitingsoundcollection[0].stop()}),15e3),setTimeout((function(){1==e.waitingPlay?e.waitingsoundcollection[1].play():0==e.waitingPlay&&e.waitingsoundcollection[1].stop()}),64e3),setTimeout((function(){1==e.waitingPlay?e.waitingsoundcollection[2].play():0==e.waitingPlay&&e.waitingsoundcollection[2].stop()}),103e3),setTimeout((function(){1==e.waitingPlay?e.waitingsoundcollection[3].play():0==e.waitingPlay&&e.waitingsoundcollection[3].stop()}),144e3),setTimeout((function(){1==e.waitingPlay?e.waitingsoundcollection[4].play():0==e.waitingPlay&&e.waitingsoundcollection[4].stop()}),189e3),setTimeout((function(){1==e.waitingPlay?e.waitingsoundcollection[5].play():0==e.waitingPlay&&e.waitingsoundcollection[5].stop()}),229e3),setTimeout((function(){1==e.waitingPlay?e.waitingsoundcollection[6].play():0==e.waitingPlay&&e.waitingsoundcollection[6].stop()}),27e4),setTimeout((function(){1==e.waitingPlay?(e.waitingsoundcollection[7].play(),e.waitingsoundcollection[7].onended=function(){window.location.href="https://www.stanleyparable.com/"}):0==e.waitingPlay&&e.waitingsoundcollection[7].stop()}),304e3)}})})));var n=new p.$uU("glassopen","audio/sfx/capopen.mp3",this.scene,null,{volume:1.2,autoplay:!1})}}),Object.defineProperty(e.prototype,"CreateKeyAudio",{enumerable:!1,configurable:!0,writable:!0,value:function(){new p.$uU("backgroundMusic","./audio/sfx/amb.wav",this.scene,null,{volume:.8,autoplay:!0,loop:!0});var e=new p.$uU("step","./audio/sfx/step.wav",this.scene,null,{volume:1,autoplay:!1}),t=!1;window.addEventListener("keydown",(function(n){t||(t=!0,e.loop=!0,e.play())})),window.addEventListener("keyup",(function(n){t&&(t=!1,e.loop=!1,e.stop())}))}}),Object.defineProperty(e.prototype,"CreatePositionAction",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=new p.$uU("dooropensound","./audio/sfx/open.wav",this.scene,null,{volume:.7,autoplay:!1,loop:!1}),n=new p.$uU("knocksound","./audio/sfx/knock.mp3",this.scene,null,{volume:.4,autoplay:!1,loop:!1}),o=new p.$uU("doorclosesound","./audio/sfx/close.wav",this.scene,null,{volume:.6,autoplay:!1,loop:!1});this.knock=0,this.place.position=new p.Pa4(-.5,19.5,54),this.place.checkCollisions=!0,this.wayout.actionManager=new p.kOu(this.scene);var i=.04,a=-.04,l=new p.fQC({trigger:p.kOu.OnIntersectionEnterTrigger,parameter:{mesh:this.place}},(function(){console.log("intersect"),e.scene.actionManager.registerAction(new p.fQC({trigger:p.kOu.OnEveryFrameTrigger,parameter:{mesh:e.door}},(function(){e.closecount++,e.door.rotate(new p.Pa4(0,-1,0),i),40===e.closecount&&(i=0,e.dooropen=!1,e.play||(e.play=!0,o.play(),e.doorvoicecollection[0].play()),e.doorvoicecollection[0].onended=function(){e.play=!1})})))})),c=new p.fQC({trigger:p.kOu.OnEveryFrameTrigger,parameter:{mesh:this.door}},(function(){e.opencount++,e.door.rotate(new p.Pa4(0,-1,0),a),40===e.opencount&&(a=0,e.play||(e.play=!0,e.doorvoicecollection[3].play()),e.doorvoicecollection[3].onended=function(){e.play=!1,e.dooropenvoiceend=!0})})),r=new p.fQC({trigger:p.kOu.OnIntersectionEnterTrigger,parameter:{mesh:this.ground}},(function(){0===e.Icount&&0===e.buttonclick&&1==e.dooropenvoiceend&&(e.groundvoice.play(),e.Icount=1)})),u=[l,c];this.cameraholder.actionManager.registerAction(u[0]),this.door.actionManager.registerAction(new p.fQC(p.kOu.OnPickTrigger,(function(){console.log("knock",e.knock),1!=e.dooropen&&0===e.knock&&(e.dooropen=!0,n.play(),t.play(),e.scene.actionManager.registerAction(u[1]),console.log("ground",e.Icount),0===e.Icount&&e.cameraholder.actionManager.registerAction(r),e.knock++)})))}}),e}(),y=(0,i.aZ)({name:"BabylonExamples",data:function(){return{loaded:!1}},mounted:function(){var e=document.querySelector("canvas"),t=document.getElementById("loadingBar"),n=document.getElementById("percentLoaded"),o=document.getElementById("loader"),i=document.getElementById("gamestartBG"),a=document.getElementById("tspudlogo");new s,new b(e,this.setLoaded,t,n,o,i,a)},methods:{setLoaded:function(){this.loaded=!0}}}),h=n(3744);const m=(0,h.Z)(y,[["render",u],["__scopeId","data-v-e5201a00"]]);var f=m,w=(0,i.aZ)({name:"App",components:{BabylonExamples:f}});const P=(0,h.Z)(w,[["render",a]]);var k=P;(0,o.ri)(k).mount("#app")}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,i,a){if(!o){var l=1/0;for(s=0;s<e.length;s++){o=e[s][0],i=e[s][1],a=e[s][2];for(var c=!0,r=0;r<o.length;r++)(!1&a||l>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[r])}))?o.splice(r--,1):(c=!1,a<l&&(l=a));if(c){e.splice(s--,1);var u=i();void 0!==u&&(t=u)}}return t}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[o,i,a]}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/s427/"}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,a,l=o[0],c=o[1],r=o[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(i in c)n.o(c,i)&&(n.m[i]=c[i]);if(r)var s=r(n)}for(t&&t(o);u<l.length;u++)a=l[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(s)},o=self["webpackChunks427"]=self["webpackChunks427"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(5668)}));o=n.O(o)})();
//# sourceMappingURL=app.979ef293.js.map